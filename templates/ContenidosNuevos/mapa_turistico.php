<div class="col-md-12">
	<h4 class="text-center general-titulos">
		Se esta cargando contenido de gran tamaño, favor esperar
	</h4>	
</div>
<div id="contenedor-general-mapa" class="col-md-12 d-flex align-items-center">	
	<div class="row">

	<div class="col-md-12" id="condenedorMapa">
		
		<!--<iframe width='100%' height='400px' src='vistaMapa'></iframe>-->
	</div>
	<div class="separacion"></div>
	<div class="col-md-12"><p>Todos los derechos reservados, prohibida su copia total o parcial</p></div>
	<div class="separacion"></div>
		<div class="col-md-6" style="padding: 10px;">
			<table class="tabla-logos-mapa">
				<tr>
					<td class="contenedor-numero"><div class="numero-mapa"><h4 class="text-center"><a href="https://matetic.com/" target="_blanc">1</a></h4></div></td>
					<td class="contenedor-numero"><div class="numero-mapa"><h4 class="text-center"><a href="https://www.casamarin.cl/" target="_blanc">2</a></h4></div></td>
					<td class="contenedor-numero"><div class="numero-mapa"><h4 class="text-center"><a href="https://chocalanwines.com/web/" target="_blanc">3</a></h4></div></td>
					<td class="contenedor-numero"><div class="numero-mapa"><h4 class="text-center"><a href="https://haciendasanjuan.cl" target="_blanc">4</a></h4></div></td>
				</tr>
				<tr>
					<td class="fondo-blanco"><a href="https://matetic.com/" target="_blanc"><?= $this->Html->image('logos/vinas/3.png', array('class'=>'img-fluid', 'style'=>'max-height:150px;'))?></a></td>
					<td class="fondo-blanco"><a href="https://www.casamarin.cl/" target="_blanc"><?= $this->Html->image('logos/vinas/1.png', array('class'=>'img-fluid rounded mx-auto d-block', 'style'=>'max-height:150px;')) ?></a></td>
					<td class="fondo-blanco"><a href="https://chocalanwines.com/web/" target="_blanc"><?= $this->Html->image('logos/vinas/5.png', array('class'=>'img-fluid rounded mx-auto d-block', 'style'=>'max-height:150px;')) ?></a></td>
					<td class="fondo-blanco"><a href="https://haciendasanjuan.cl" target="_blanc"><?= $this->Html->image('logos/vinas/2.png', array('class'=>'img-fluid rounded mx-auto d-block', 'style'=>'max-height:150px;')) ?></a></td>
				</tr>
				<tr>
					<td class="contenedor-numero"><div class="numero-mapa"><h4 class="text-center"><a href="https://www.vgs.cl/" target="_blanc">5</a></h4></div></td>
					<td class="contenedor-numero"><div class="numero-mapa"><h4 class="text-center"><a href="https://www.leyda.cl/" target="_blanc">6</a></h4></div></td>
					<td class="contenedor-numero"><div class="numero-mapa"><h4 class="text-center"><a href="https://www.ventisquero.com/" target="_blanc">7</a></h4></div></td>
					<td class="contenedor-numero"><div class="numero-mapa"><h4 class="text-center"><a href="http://www.casasdebucalemu.cl/" target="_blanc">8</a></h4></div></td>
				</tr>
				<tr>
					<td class="fondo-blanco"><a href="https://www.vgs.cl/" target="_blanc"><?= $this->Html->image('logos/vinas/4.png', array('class'=>'img-fluid rounded mx-auto d-block', 'style'=>'max-height:150px;')) ?></a></td>
					<td class="fondo-blanco"><a href="https://www.leyda.cl/" target="_blanc"><?= $this->Html->image('logos/vinas/6.png', array('class'=>'img-fluid rounded mx-auto d-block', 'style'=>'max-height:150px;')) ?></a></td>
					<td class="fondo-blanco"><a href="https://www.ventisquero.com/" target="_blanc"><?= $this->Html->image('logos/vinas/7.png', array('class'=>'img-fluid rounded mx-auto d-block', 'style'=>'max-height:150px;')) ?></a></td>
					<td class="fondo-blanco"><h4 class="text-center"><a href="http://www.casasdebucalemu.cl/" target="_blanc"><?= $this->Html->image('logos/vinas/8.png', array('class'=>'img-fluid rounded mx-auto d-block', 'style'=>'max-height:150px;')) ?></a></td>
				</tr>
			</table>
		</div>
		<div class="col-md-6" style="padding: 10px;">
			<table class="tabla-otros-puntos">
				<tr>
					<td><div class="numero-mapa-otro"><h4 class="text-center">1</h4></div></td>
					<td>MUSEO PABLO NERUDA (ISLA NEGRA)</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">7</h4></div></td>
					<td>CASTILLO FERREIRO</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">13</h4></div></td>
					<td>MUSEO MUNICIPAL DE CIENCIAS NATURALES Y ARQUEOLOGICAS</td>
				</tr>
				<tr>
					<td><div class="numero-mapa-otro"><h4 class="text-center">2</h4></div></td>
					<td>ESTERO Y QUEBRADA DE CORDOVA</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">8</h4></div></td>
					<td>MUSEO DE ARTES DECORATIVAS VILLA LUCIA</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">14</h4></div></td>
					<td>CRISTO DEL MAIPO</td>
				</tr>
				<tr>
					<td><div class="numero-mapa-otro"><h4 class="text-center">3</h4></div></td>
					<td>BARRIO VATICANO. CASA DE NICANOR PARRA</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">9</h4></div></td>
					<td>MUSEO VICENTE HUIDOBRO</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">15</h4></div></td>
					<td>HUMEDAL RÍO MAIPO</td>
				</tr>
				<tr>
					<td><div class="numero-mapa-otro"><h4 class="text-center">4</h4></div></td>
					<td>PARQUE ECOPOETICO ECIM</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">10</h4></div></td>
					<td>TUMBA VICENTE HUIDOBRO</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">16</h4></div></td>
					<td>FUNDACIÓN PARQUE DE LA CIENCIA</td>
				</tr>
				<tr>
					<td><div class="numero-mapa-otro"><h4 class="text-center">5</h4></div></td>
					<td>LAGUNA EL PERAL</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">11</h4></div></td>
					<td>PASEO BELLAMAR</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">17</h4></div></td>
					<td>PARQUE TRICAO</td>
				</tr>
				<tr>
					<td><div class="numero-mapa-otro"><h4 class="text-center">6</h4></div></td>
					<td>ESTACIÓN DE TRENES CARTAGENA</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">12</h4></div></td>
					<td>BARRIO BALMACEDA. PASEO NEGRA ESTER</td>
					<td><div class="numero-mapa-otro"><h4 class="text-center">18</h4></div></td>
					<td>HUMEDAL EL YALI</td>
				</tr>
			</table>
		</div>
	</div>
</div>
<div class="d-none">
    <form id="ajaxFormMapa">
        <input type="hidden" name="_Token[fields]" autocomplete="off" value="<?=$token?>">
        <input type="hidden" name="idioma" autocomplete="off" value="<?=$token?>" id="tokenMapa">
    </form>
</div>
<script type="text/javascript">
	document.oncontextmenu = function(){return false}
	window.onload = function() {
		
		var token= $('#tokenMapa').val();
        var ajaxdata = $("#ajaxFormMapa").serializeArray();
		$.ajax({
            type: 'POST',
            url: 'solicitaMapa',
            headers: { 'X-XSRF-TOKEN' : token },
            beforeSend: function (xhr) {
                xhr.setRequestHeader('X-CSRF-Token', token);
            },
            data: ajaxdata,
            success: function (result) {
                respuesta=JSON.parse(result);
                if(respuesta.res==1){
                	var mapa='<embed src="vistaMapa/svfsda#toolbar=0" type="application/pdf" width="100%" height="700px" />';
                	document.getElementById("condenedorMapa").innerHTML = mapa;

                }
                if(respuesta.res==3){
                	alert('Ocurrio un error al solicitar el mapa.');
                }
            },
            error: function (result){
                alert('Hay un error general.');
            }
        }); 
	};
</script>
<script type="text/javascript">


	$(document).keydown(function(e){
	    $('#condenedorMapa').hide(0); 
	    setTimeout(function(){
	    	$('#condenedorMapa').show();             
	    }, 3000);
	});
	$(document).keypress(function(e){
		$('#condenedorMapa').hide(0); 
	    setTimeout(function(){
	    	$('#condenedorMapa').show();             
	    }, 3000);
	});
	$(document).keyup(function(e){
		$('#condenedorMapa').hide(0); 
	    setTimeout(function(){
	    	$('#condenedorMapa').show();             
	    }, 3000);
	});
	document.copy = noCopiar;
	function noCopiar(){ 
		var body = document.getElementsByTagName('body')[0]; 
		var copied = window.getSelection(); 
		var newtext = 'Es posible modificar tu portapapeles.'; 
		var newdiv = document.createElement('div');
		newdiv.style.position='absolute'; 
		newdiv.style.left='-99999px'; 
		body.appendChild(newdiv); 
		newdiv.innerHTML = newtext; 
		copied.selectAllChildren(newdiv); 
		window.setTimeout(function() { 
			body.removeChild(newdiv); 
		},0); }
</script>
<style type="text/css">
	.contenedor-numero{
		height: 25px !important;
		margin-top: 20px;
	}
	.fondo-blanco{
		background-color: #fff;		
		width: 90%;
		height: 90%;
		padding: 5px;
		border:#F4A83A solid ;
		border-radius: 10px !important;
	}
	.contenedor-img-mapa{
		margin: 0;
		padding: 0;
	}
	.imagen-mapa{
		height: 44.30px !important;
		width: 62px !important;
		margin: 0;
		padding: 0;

	}
	#contenedor-general-mapa{
		background-color: #F4A83A;
		padding: 10px;
	}
	.numero-mapa {
		background-color: red;
		color:white;
		width: 30px;
		height: 30px;
		border-radius: 50%;
		margin: 0 auto;
		margin-bottom: 0px;
	}
	.numero-mapa a{

		color:white;

	}
	.tabla-logos-mapa td{
		padding: 10px;
		height: 100px;
		width: 20%;
		text-align: center;
		vertical-align: middle;
	}
	.tabla-otros-puntos{
		height: 100%;
	}
	.numero-mapa-otro {
		background-color: blue;
		color:white;
		width: 30px;
		height: 30px;
		border-radius: 50%;
		margin: 0 auto;
	}
</style>
